;/* module-key = 'net.customware.plugins.connector.atlassian.jira-connector-plugin:jquery-autocomplete', location = 'js/jquery.autocomplete.js' */
jQuery.fn.connectorautocomplete=function(d,c,a,b){return this.each(function(){var e=AJS.$(this);var k=AJS.$(this).next();k.after('<ul class="autocomplete"></ul>');var i=k.next().css({width:e.width()+4});var l="";var j;var m=0;var f=0;c=jQuery.extend({minChars:1,timeout:1000,after:null,before:null,validSelection:true,parameters:{inputName:k.attr("name"),inputId:e.attr("id")}},c);function g(n){window.clearInterval(j);if(n!=l&&(c.minChars!=null&&n.length>=c.minChars)){h();if(c.before=="function"){c.before(e,n)}e.addClass("autocomplete-loading");c.parameters.text=n;AJS.$.ajax({type:"POST",url:d,dataType:"json",contentType:"application/json; charset=utf-8",data:'{"system":"'+a+'", "objectType":"'+b+'", "searchTerm":"'+n+'"}',error:function(){var o="<li>Error: Please check the configuration of this Custom Field.</li>";i.html(o);i.show().children().click(function(){h()})},success:function(q){var o="";if(q){m=q.results.length;if(m>0){AJS.$.each(q.results,function(s,t){var u=AJS.escapeHTML(t.id);var r=AJS.escapeHTML(t.name);o+='<li title="'+u+'">'+r.replace(new RegExp("("+AJS.$.trim(n)+")","i"),"<strong>$1</strong>")+"</li>"});i.html(o);i.show().children().hover(function(){AJS.$(this).addClass("selected").siblings().removeClass("selected")},function(){AJS.$(this).removeClass("selected")}).click(function(){k.val(AJS.$(this).attr("title"));e.val(AJS.$(this).text());h()});if(c.after=="function"){c.after(e,n)}}else{var p=AJS.escapeHTML(n);o+="<li>"+p+" <i>returned 0 results.</i></li>";i.html(o);i.show().children().click(function(){h()})}}e.removeClass("autocomplete-loading")}});l=n}}function h(){i.hide();m=0;f=0}e.keydown(function(n){window.clearInterval(j);if(n.which==27){h()}else{if(n.which==46||n.which==8){h();if(c.validSelection){k.val("")}}else{if(n.which==13){if(i.css("display")=="none"){g(e.val())}else{h()}n.preventDefault();return false}else{if(n.which==40||n.which==9||n.which==38){switch(n.which){case 40:case 9:f=f>=m-1?0:f+1;break;case 38:f=f<=0?m-1:f-1;break;default:break}e.val(i.children().removeClass("selected").eq(f).addClass("selected").text());k.val(i.children().eq(f).attr("title"))}else{if(c.validSelection){k.val("")}j=window.setTimeout(function(){g(e.val())},c.timeout)}}}}})})};;
;/* module-key = 'net.customware.plugins.connector.atlassian.jira-connector-plugin:connector-linkfield-autocomplete', location = 'net/customware/plugins/connector/jira/action/customfield/remotefield-autocomplete.js' */
AJS.$(document).ready(function(){var b=function(f){var d=AJS.$(this).attr("remotesystem");var e=AJS.$(this).attr("remoteobjecttype");if(d!=null&&d!=""&&e!=null&&e!=""){AJS.$(this).connectorautocomplete(contextPath+"/rest/customware/connector/1.0/search/basic.json",{minChars:3,timeout:500,validSelection:true,parameters:{system:d,objectType:e},before:function(g,h){},after:function(g,h){}},d,e)}};var a=function(d){AJS.$(this).click(function(e){AJS.$(this).parent().remove();return false})};var c=function(d){AJS.$(this).click(function(h){var e=AJS.$(this).attr("customfield");var f=AJS.$("#new-connector-autocomplete-container-"+e);var i="";i+='<div class="connector-autocomplete-container">';i+=f.html();i+='<a class="connector-field-remove" href="#"><img src="'+contextPath+'/images/icons/subtract_10.gif"></a>';i+="</div>";AJS.$(this).before(i);var g=AJS.$(this).prev();g.children(".connector-field-autocomplete").each(b);g.children(".connector-field-remove").each(a);return false})};AJS.$(".connector-field-autocomplete").each(b);AJS.$(".connector-field-remove").each(a);AJS.$(".connector-field-add").each(c);JIRA.bind(JIRA.Events.NEW_CONTENT_ADDED,function(f,d){AJS.$(".connector-field-autocomplete").unbind("click");AJS.$(".connector-field-autocomplete").each(b);AJS.$(".connector-field-remove").unbind("click");AJS.$(".connector-field-remove").each(a);AJS.$(".connector-field-add").unbind("click");AJS.$(".connector-field-add").each(c)})});;
;/* module-key = 'com.atlassian.labs.hipchat.hipchat-for-jira-plugin:resources', location = 'js/status.js' */
;
