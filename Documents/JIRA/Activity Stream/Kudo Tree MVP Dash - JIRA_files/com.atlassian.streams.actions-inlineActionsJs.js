;/* module-key = 'com.atlassian.streams.actions:inlineActionsJs', location = '/js/inline-actions/inline-actions.js' */
var ActivityStreams=ActivityStreams||{};ActivityStreams.InlineActions=ActivityStreams.InlineActions||(function(){function a(e,h,g,f){var d=e.find("div.activity-item-action-status-container"),i=d.data("timeout");g=g||"info";if(i){clearTimeout(i)}d.bind("messageClose",function(j){d.addClass("hidden").trigger("contentResize.streams");f&&f()});AJS.messages[g](d,{body:h,closeable:false});d.removeClass("hidden").trigger("contentResize.streams");i=setTimeout(function(){d.find("div.aui-message").fadeOut(1000,function(){AJS.$(this).closeMessage()})},3000);d.data("timeout",i)}function b(e,d){if(d&&d.generator&&(d.generator!=ActivityStreamsGadgetBaseUrl)){return ActivityStreamsGadgetBaseUrl+"/rest/activity-stream/1.0/url-proxy?url="+e}return e}function c(){AJS.$("body").bind("beginInlineAction",function(h){var g=AJS.$(h.target),d=g.closest("div.activity-item").find("div.activity-item-actions"),f=ActivityStreams.showThrobber(d);d.data("stopFn",f)}).bind("completeInlineAction",function(h){var g=AJS.$(h.target),d=g.closest("div.activity-item").find("div.activity-item-actions"),f=d.data("stopFn");if(f){f()}else{d.removeClass("loading")}})}c();return{statusMessage:a,proxy:b,register:c}})();;
